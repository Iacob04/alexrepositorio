
package clase;

import java.util.Arrays;
import java.util.Scanner;

public class Ejercicio_cuenta {

	public static void main(String[] args) {
	
	/*		
		Scanner teclado = new Scanner(System.in);
		System.out.print("Introduce un número de 4 cifras: ");
		int numero = teclado.nextInt();
		String textoNum = String.valueOf(numero);
		
		while(textoNum.length()>4) {
			System.out.print("La cifra introducida no es correcta , vuelva a introducirla: ");
			numero = teclado.nextInt();
			textoNum = String.valueOf(numero);
	}
		
		while(!textoNum.equals("6174") ) {
			char cifras[] = new char [textoNum.length()];
			
			for(int i = 0; i<textoNum.length(); i++)
				cifras[i] = textoNum.charAt(i);
			
			Arrays.sort(cifras);
			
			String textoAscendente = "";
			for (int i = 0; i<cifras.length; i++)
				textoAscendente += cifras[i];
			
			int numAscendente = Integer.parseInt(textoAscendente);
			System.out.println(numAscendente);
			
			String textoDescendente = "";
			for (int i =cifras.length-1; i>=0; i--)
				textoDescendente += cifras[i];
			
			int numDescendente = Integer.parseInt(textoDescendente);
			System.out.println(numDescendente);
			
			System.out.println(numDescendente + "-" + numAscendente + " = " + (numDescendente-numAscendente));
			
			textoNum = String.valueOf(numDescendente-numAscendente);
			
		}
		
		teclado.close();*/
		
		// como el profe
		
		Scanner teclado = new Scanner(System.in);
		System.out.println("Introduce un número entero de 4 cifras con al menos una diferente");
		int entrada = -1;
		final int kaprekar = 6174;
		try {
			entrada = teclado.nextInt();
		}catch (Exception e) {
			System.out.println("Eso no es un número entero");
		}finally {
			teclado.close();
		}
		
		if (entrada != -1) {
			String numTxt = String.valueOf(entrada);
			if(numTxt.length()!= 4)
				System.out.println("Tu número no tiene exactamente 4 cifras");
			else {
				boolean hayDiferencias = false;
				for(int i = 1;i<4; i++)
					if(numTxt.charAt(0)!= numTxt.charAt(i))
						hayDiferencias = true;
				if(hayDiferencias == false)
					System.out.println("Todos los dígitos son iguales");
				
				else {
					if(entrada == kaprekar)
						System.out.println("Tu número es ya la constate de kaprekar");
					else {
						int contador = 0;
						while(entrada != kaprekar) {
							contador++;
						int vector[]= new int [4];
						for(int i = 0; i<4; i++)
							vector[i] = numTxt.charAt(i)-'0';
						Arrays.sort(vector);
						String ascendente = "";
						String descendente = "";
						for(int i = 0; i<4; i++) {
							ascendente = ascendente + vector[i];
							descendente = vector[i] + descendente;
							
						}
						//System.out.println("Ascendente = " + ascendente);
						//System.out.println("Descendente = " + descendente);
						entrada = Integer.parseInt(descendente)-Integer.parseInt(ascendente);
						numTxt = Integer.toString(entrada);
						for(int i = numTxt.length(); i<4; i++)
							numTxt = "0" + numTxt;
						System.out.println(descendente + " - " + ascendente + " = " + entrada);
						
					}
				}
				
			}
		
					
		}
			
		}
		System.out.println("Has hecho " + contador + " operaciones para llegar al número de kaprekar");

	}

}
